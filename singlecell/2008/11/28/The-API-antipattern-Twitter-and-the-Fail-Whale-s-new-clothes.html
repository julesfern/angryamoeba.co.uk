<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN" "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">

	
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<meta http-equiv="Content-Language" content="en-us" />
		
		<title>The API antipattern, Twitter, and the Fail Whale's new clothes</title>
		
		<meta name="ROBOTS" content="ALL" />
		<meta http-equiv="imagetoolbar" content="no" />
		<meta name="MSSmartTagsPreventParsing" content="true" />
		<meta name="Copyright" content="(c) 2005 Copyright content: Angry amoeba Copyright design: Angry amoeba" />
		<!-- (c) Copyright 2005 by Angryamoeba All Rights Reserved. -->
		
		<meta name="Keywords" content="angryamoeba, amoeba, dan, glegg, danski, daniel, applications, CSS, XHTML, javascript,
												 PHP, HTML, MySQL, SQL, ruby, rails, actionscript, action, script, flash, OOP, 
												 development, developer, uk, sussex, england, great, britain, programmer, programming,
												 blogger, podcast, blog, useful, software, W3C, standards, bish, bash, bosh" />
		<meta name="Description" content="A blog about technology, business, products, web standards and the open web." />
		

		<!-- Presentation -->
		<link rel="stylesheet" href="/stylesheets/angryamoeba-core.css" type="text/css" media="all" charset="utf-8" />
		<link rel="stylesheet" href="/stylesheets/angryamoeba-blog.css" type="text/css" media="all" charset="utf-8" />
		<link rel="stylesheet" href="/stylesheets/angryamoeba-docs.css" type="text/css" media="all" charset="utf-8" />
		
		<!-- Interactivity -->
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js"></script>
		<script type="text/javascript" src="/lib/angryamoeba/angryamoeba-core.js"></script>
		<script type="text/javascript" src="/lib/angryamoeba/angryamoeba-blog.js"></script>
</head>
	
	<body>		
			<div id="network" class="section">
		<ol class="sub navigation">
			<li><h1><a href="/" class="home"><img src="/images/brand/amoeba-text-small.png" alt="Dan Glegg, Angry amoeba" /></a></h1></li>
			<li><a href="/singlecell/" class="blog">Singlecell Blog</a></li>
			<li><a href="/about.html" class="about">About</a></li>
		</ol>
</div>			

			
<div id="focus" class="section forty-sixty">

			<h1 class="left">
				<a href="/singlecell/2008/11/28/The-API-antipattern-Twitter-and-the-Fail-Whale-s-new-clothes.html">The API antipattern, Twitter, and the Fail Whale's new clothes</a>
				<span class="date">28 Nov, 2008</span>
			</h1>
			
			<div class="right box">
				 

<p>Not enough developers get angry when they encounter the <a href="http://adactio.com/journal/1357">password antipattern</a>. You’ll know it when you see it because you’ll see <strong>site A</strong> asking you for your login credentials for <strong>site B</strong> in order to enable <strong>cool feature C</strong>. That <strong>cool feature C</strong> is <em>usually</em> a mechanic for spamming <strong>site A</strong>’s users into signing up for <strong>site B</strong> notwithstanding, this pattern smells worse than week-old crab left wrapped up in some wet newspaper atop a radiator.</p>

<p>Yes. This pattern is terrible for security because the least secure part of any system is inevitably the fallible bipedal meat-creature who uses that system, and a culture that encourages meat-beings to hand over login credentials to any form that winks and offers to buy us a drink will only further damage our already poor <a href="http://en.wikipedia.org/wiki/Series_of_tubes">intertube</a> survival instincts. Not only is this insecure, but a complete replacement of the concept of <em>authentication</em> by a dangerously brittle system of electronic hearsay.</p>

<hr />

<h4 id="when_you_say_auth_do_you_mean_authentication_or_authorisation">When you say auth, do you mean authentication or authorisation?</h4>

<p>Let’s go back to basics for a second. What does “authentication” mean? A brief fumble with <a href="http://www.google.co.uk/search?hl=en&amp;q=define%3Aauthentication&amp;btnG=Search">google’s define function</a> yields the following:</p>

<pre><code>[Authentication is] The process of identifying an individual or data. In security systems, authentication is distinct from authorization. Authentication merely confirms that the identification of the individual or data is accurate.
</code></pre>

<p>And quite right, too. When your small personal army of Twitter client apps* are out there, running in the cloud, firing periodic requests off to Twitter, they’re authenticating as yourself. Twitter has no way to discern whether those requests come from you, or any one of the many agents you authorise to access your account. Put the other way, all agents accessing your account have the full power of the account owner, including the ability to change your password and lock you out of your account. Let’s not even get into the miniature localised apocalypse you’ll trigger whenever you change your password yourself.</p>

<p>Nowhere else, in any sphere of security, is this considered acceptable. Take as an example the entourage who orbit closely around a given celebrity (that’s you, you lucky thing). Your entourage look after you, they have access to your stuff, but they don’t carry your passport and driver’s license. They carry their <em>own identification which institutions accept as authorisation to access your stuff</em>. That’s the right way to do it. Your fabulous slick-haired fashion consultant - his name is Quantum, by the way, not that you care - <em>authenticates</em> as himself when he calls up the designers, but the designers know that he is <em>authorised</em> to buy clothes for you, because you’re too busy recording a voiceover for a rigidly formulaic CG animal cuddlefest about a penguin called Zappy who gets lost in New York with the baby of a wealthy but comedically inept couple.</p>

<p>Anyway. The point is that the various software agents you give access to your account should have their own credentials with which they can access your account. The service they’re working with should recognise those credentials as having access to your account. An agent should never be able to change your password or perform other tasks that are reserved for you and you alone. You should be able to revoke those credentials if you lose trust in one of your agents. You should be able to grant time-limited or once-only to agents you’re just trying out.</p>

<p>There’s one site in particular who <em>already have this solved</em>. It’s <a href="http://flickr.com">Flickr</a>. They nailed it pretty much from the get-go. Just look at the <a href="http://www.flickr.com/services/api/auth.spec.html">documentation</a> for authenticating with them. It’s beautiful, and the fact that no major independent player has been visibly inspired by it is, frankly, shocking.</p>

<p>The vast majority of Twitter’s traffic is via their API. And they’re still running on basic HTTP authentication, the way neanderthals authenticated with <em>their</em> social microstatus aggregators. It’s time for them to do better, like we all know they can.</p>

<p>*For Twitter, being particularly complicit in this problem, shall have the pleasure of being my whipping boy for the purposes of this article.</p>

<p>Addendum: And see below. Twitter comments - I loved the idea of them. But people need to enter their password in order to comment. Twitter&#8217;s bizarrely primitive approach to authentication is a massive barrier to innovation in this way.</p>

				<!-- vCard and bio -->
<div id="hcard-Dan-Glegg" class="vcard">
	 <img src="/images/icons/dan-portrait-small.jpg" alt="Photo of Dan speaking at an event" title="Image thanks to Richard Dallaway" class="photo"/>
	<p>
		<a class="url fn" href="http://www.angryamoeba.co.uk/singlecell/">Dan Glegg</a> is a software developer living and working in 
		<span class="adr"><span class="locality">Brighton</span>, <span class="country-name">United Kingdom</span></span>. 
		He works mainly with Ruby, Objective-C, Flex and W3C standards and spends most of his time 
		developing products, often with startup companies.
	</p>
	
	<ul>
		<li><a href="http://twitter.com/angryamoeba" class="url social twitter">Twitter</a></li>
		<li><a href="http://www.linkedin.com/in/angryamoeba" class="url social linkedin">LinkedIn</a></li>
		<li><a href="http://flickr.com/photos/angryamoeba/" class="url social flickr">Flickr</a></li>
		<li><a href="http://github.com/danski/" class="url social github">Github</a></li>
		<li><a href="http://delicious.com/danski" class="url social delicious">Del.icio.us</a></li>
	</ul>								

	<div class="tags">
		<a href="http://kitchen.technorati.com/contacts/tag/startup">startup</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/entrepreneur">entrepreneur</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/developer">developer</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/engineer">engineer</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/technology">technology</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/consultancy">consultancy</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/ruby">ruby</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/flex">flex</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/objective-c">objective-c</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/iphone">iphone</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/mac">mac</a> 
		<a href="http://kitchen.technorati.com/contacts/tag/w3c">w3c</a>
	</div>
</div>
			</div>
	
</div>

<div id="content" class="section forty-sixty">
	

	<div class="right box bright">
		<div id="disqus_thread"></div>
		<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a>		
	</div>

	
</div>			
			
			<div id="footer" class="section fifty-fifty">
	<span class="left copyright">
		Design and brand copyright &copy; <a href="/">Dan Glegg</a> 2009. 
		
		The <a href="http://www.videojuicer.com" rel="external">Videojuicer</a> and <a href="http://oauth.net/" rel="external">OAuth</a> marks
		are property of their respective owners.
		
		
		<span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" property="dc:title" rel="dc:type">
				The text content of all posts from Singlecell, the Angry amoeba weblog
		</span> by 
		<a xmlns:cc="http://creativecommons.org/ns#" href="http://www.angryamoeba.co.uk" property="cc:attributionName" rel="cc:attributionURL">Dan Glegg</a> 
				is licensed under a 
		<a rel="license" href="http://creativecommons.org/licenses/by-nd/3.0/us/">Creative Commons Attribution-No Derivative Works 3.0 United States License</a>.
		<a rel="license" href="http://creativecommons.org/licenses/by-nd/3.0/us/">
			<img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-nd/3.0/us/80x15.png" />
		</a>
	</span>
	<ol class="navigation right">
		<li><a href="/" class="home">Home</a></li>
		<li><a href="/singlecell/" class="blog" rel="external">Singlecell Blog</a></li>
		<li><a href="/about.html" class="about">About</a></li>
		<li><a href="http://validator.w3.org/check?uri=referer" rel="external">Validate HTML</a></li>
	</ol>				
</div>
			<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
	var pageTracker = _gat._getTracker("UA-1036922-2"); pageTracker._initData(); pageTracker._trackPageview();
</script>
	</body>
	
</html>
